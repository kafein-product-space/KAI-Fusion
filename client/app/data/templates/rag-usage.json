{
  "id": "rag_usage",
  "name": "RAG Usage Flow",
  "description": "Complete RAG architecture with OpenAI LLM, embeddings, vector retrieval, and intelligent agent for document-based Q&A.",
  "colorFrom": "from-indigo-500",
  "colorTo": "to-purple-600",
  "icon": { "name": "search", "path": null, "alt": null },
  "flow_data": {
    "edges": [
      {
        "id": "xy-edge__StartNode-1output-Agent-3input",
        "type": "custom",
        "source": "StartNode-1",
        "target": "Agent-3",
        "sourceHandle": "output",
        "targetHandle": "input"
      },
      {
        "id": "xy-edge__Agent-3output-EndNode-2target",
        "type": "custom",
        "source": "Agent-3",
        "target": "EndNode-2",
        "sourceHandle": "output",
        "targetHandle": "target"
      },
      {
        "id": "xy-edge__OpenAIChat-5llm-Agent-3llm",
        "type": "custom",
        "source": "OpenAIChat-5",
        "target": "Agent-3",
        "sourceHandle": "llm",
        "targetHandle": "llm"
      },
      {
        "id": "xy-edge__BufferMemory-6memory-Agent-3tools",
        "type": "custom",
        "source": "BufferMemory-6",
        "target": "Agent-3",
        "sourceHandle": "memory",
        "targetHandle": "tools"
      },
      {
        "id": "xy-edge__RetrieverProvider-7retriever_tool-Agent-3memory",
        "type": "custom",
        "source": "RetrieverProvider-7",
        "target": "Agent-3",
        "sourceHandle": "retriever_tool",
        "targetHandle": "memory"
      },
      {
        "id": "xy-edge__OpenAIEmbeddingsProvider-8embedder-RetrieverProvider-7embedder",
        "type": "custom",
        "source": "OpenAIEmbeddingsProvider-8",
        "target": "RetrieverProvider-7",
        "sourceHandle": "embedder",
        "targetHandle": "embedder"
      },
      {
        "id": "xy-edge__CohereRerankerProvider-9reranker-RetrieverProvider-7reranker",
        "type": "custom",
        "source": "CohereRerankerProvider-9",
        "target": "RetrieverProvider-7",
        "sourceHandle": "reranker",
        "targetHandle": "reranker"
      }
    ],
    "nodes": [
      {
        "id": "StartNode-1",
        "data": {
          "icon": {
            "alt": null,
            "name": "rocket",
            "path": null
          },
          "name": "StartNode",
          "inputs": [
            {
              "name": "initial_input",
              "type": "string",
              "default": "",
              "required": false,
              "description": "Initial input text to start the workflow",
              "displayName": "Initial Input",
              "is_connection": false
            },
            {
              "name": "trigger_data",
              "type": "any",
              "required": false,
              "description": "Data received from trigger nodes",
              "displayName": "Trigger Data",
              "is_connection": true
            }
          ],
          "outputs": [
            {
              "name": "output",
              "type": "string",
              "description": "Forwarded input to start the workflow chain",
              "displayName": "Execute",
              "is_connection": true
            }
          ],
          "metadata": {
            "id": "StartNode",
            "icon": {
              "alt": null,
              "name": "rocket",
              "path": null
            },
            "name": "StartNode",
            "tags": [],
            "colors": ["green-500", "emerald-600"],
            "inputs": [
              {
                "name": "initial_input",
                "type": "string",
                "default": "",
                "required": false,
                "description": "Initial input text to start the workflow",
                "displayName": "Initial Input",
                "is_connection": false
              },
              {
                "name": "trigger_data",
                "type": "any",
                "required": false,
                "description": "Data received from trigger nodes",
                "displayName": "Trigger Data",
                "is_connection": true
              }
            ],
            "outputs": [
              {
                "name": "output",
                "type": "string",
                "description": "Forwarded input to start the workflow chain",
                "displayName": "Execute",
                "is_connection": true
              }
            ],
            "version": "1.0.0",
            "category": "Special",
            "examples": [],
            "node_type": "processor",
            "description": "Entry point for workflow execution. Receives initial input and starts the workflow.",
            "display_name": "Start"
          },
          "description": "Entry point for workflow execution. Receives initial input and starts the workflow.",
          "displayName": "Start"
        },
        "type": "StartNode",
        "dragging": false,
        "measured": {
          "width": 96,
          "height": 96
        },
        "position": {
          "x": 720,
          "y": 270
        },
        "selected": false
      },
      {
        "id": "EndNode-2",
        "data": {
          "icon": {
            "alt": null,
            "name": "flag",
            "path": null
          },
          "name": "EndNode",
          "inputs": [
            {
              "name": "target",
              "type": "any",
              "required": true,
              "description": "The final data from the preceding node",
              "displayName": "Target",
              "is_connection": true
            }
          ],
          "outputs": [],
          "metadata": {
            "id": "EndNode",
            "icon": {
              "alt": null,
              "name": "flag",
              "path": null
            },
            "name": "EndNode",
            "tags": [],
            "colors": ["gray-500", "slate-600"],
            "inputs": [
              {
                "name": "target",
                "type": "any",
                "required": true,
                "description": "The final data from the preceding node",
                "displayName": "Target",
                "is_connection": true
              }
            ],
            "outputs": [],
            "version": "1.0.0",
            "category": "Special",
            "examples": [],
            "node_type": "terminator",
            "description": "Marks the end of a workflow path",
            "display_name": "End"
          },
          "description": "Marks the end of a workflow path",
          "displayName": "End"
        },
        "type": "EndNode",
        "dragging": false,
        "measured": {
          "width": 96,
          "height": 96
        },
        "position": {
          "x": 1460,
          "y": 270
        },
        "selected": true
      },
      {
        "id": "Agent-3",
        "data": {
          "icon": {
            "alt": null,
            "name": "bot",
            "path": null
          },
          "name": "Agent",
          "inputs": [
            {
              "name": "input",
              "type": "string",
              "required": true,
              "description": "The user's input to the agent.",
              "displayName": "Input",
              "is_connection": true
            },
            {
              "name": "llm",
              "type": "BaseLanguageModel",
              "required": true,
              "direction": "bottom",
              "description": "The language model that the agent will use.",
              "displayName": "LLM",
              "is_connection": true
            },
            {
              "name": "tools",
              "type": "Sequence[BaseTool]",
              "required": false,
              "direction": "bottom",
              "description": "The tools that the agent can use.",
              "displayName": "Tools",
              "is_connection": true
            },
            {
              "name": "memory",
              "type": "BaseMemory",
              "required": false,
              "direction": "bottom",
              "description": "The memory that the agent can use.",
              "displayName": "Memory",
              "is_connection": true
            },
            {
              "name": "max_iterations",
              "type": "int",
              "default": 10,
              "required": true,
              "description": "The maximum number of iterations the agent can perform.",
              "is_connection": false
            },
            {
              "name": "system_prompt",
              "type": "str",
              "default": "You are an expert AI assistant specialized in providing detailed, step-by-step guidance and comprehensive answers. You excel at breaking down complex topics into clear, actionable instructions.",
              "required": true,
              "description": "The system prompt for the agent.",
              "is_connection": false
            },
            {
              "name": "prompt_instructions",
              "type": "str",
              "default": "",
              "required": false,
              "description": "Custom prompt instructions for the agent. If not provided, uses smart orchestration defaults.",
              "is_connection": false
            }
          ],
          "outputs": [
            {
              "name": "output",
              "type": "str",
              "description": "The final output from the agent.",
              "displayName": "Output",
              "is_connection": true
            }
          ],
          "metadata": {
            "id": "Agent",
            "icon": {
              "alt": null,
              "name": "bot",
              "path": null
            },
            "name": "Agent",
            "tags": [],
            "colors": ["purple-500", "indigo-600"],
            "inputs": [
              {
                "name": "input",
                "type": "string",
                "required": true,
                "description": "The user's input to the agent.",
                "displayName": "Input",
                "is_connection": true
              },
              {
                "name": "llm",
                "type": "BaseLanguageModel",
                "required": true,
                "direction": "bottom",
                "description": "The language model that the agent will use.",
                "displayName": "LLM",
                "is_connection": true
              },
              {
                "name": "tools",
                "type": "Sequence[BaseTool]",
                "required": false,
                "direction": "bottom",
                "description": "The tools that the agent can use.",
                "displayName": "Tools",
                "is_connection": true
              },
              {
                "name": "memory",
                "type": "BaseMemory",
                "required": false,
                "direction": "bottom",
                "description": "The memory that the agent can use.",
                "displayName": "Memory",
                "is_connection": true
              },
              {
                "name": "max_iterations",
                "type": "int",
                "default": 10,
                "required": true,
                "description": "The maximum number of iterations the agent can perform.",
                "is_connection": false
              },
              {
                "name": "system_prompt",
                "type": "str",
                "default": "You are an expert AI assistant specialized in providing detailed, step-by-step guidance and comprehensive answers. You excel at breaking down complex topics into clear, actionable instructions.",
                "required": true,
                "description": "The system prompt for the agent.",
                "is_connection": false
              },
              {
                "name": "prompt_instructions",
                "type": "str",
                "default": "",
                "required": false,
                "description": "Custom prompt instructions for the agent. If not provided, uses smart orchestration defaults.",
                "is_connection": false
              }
            ],
            "outputs": [
              {
                "name": "output",
                "type": "str",
                "description": "The final output from the agent.",
                "displayName": "Output",
                "is_connection": true
              }
            ],
            "version": "1.0.0",
            "category": "Agents",
            "examples": [],
            "node_type": "processor",
            "properties": [
              {
                "name": "agent_type",
                "rows": 4,
                "type": "select",
                "default": "react",
                "options": [
                  {
                    "label": "ReAct Agent ⭐",
                    "value": "react"
                  },
                  {
                    "label": "Conversational Agent",
                    "value": "conversational"
                  },
                  {
                    "label": "Task-Oriented Agent",
                    "value": "task_oriented"
                  }
                ],
                "required": true,
                "displayName": "Agent Type"
              },
              {
                "hint": "Use {input} for user input. Define agent behavior and capabilities.",
                "name": "system_prompt",
                "rows": 4,
                "type": "textarea",
                "default": "You are a helpful assistant. Use tools to answer: {input}",
                "required": true,
                "displayName": "System Prompt"
              },
              {
                "max": 20,
                "min": 1,
                "name": "max_iterations",
                "rows": 4,
                "type": "range",
                "default": 5,
                "maxLabel": "Thorough",
                "minLabel": "Quick",
                "required": true,
                "displayName": "Max Iterations"
              },
              {
                "max": 2,
                "min": 0,
                "name": "temperature",
                "rows": 4,
                "step": 0.1,
                "type": "range",
                "color": "purple-400",
                "default": 0.7,
                "maxLabel": "Creative",
                "minLabel": "Precise",
                "required": true,
                "displayName": "Temperature"
              },
              {
                "hint": "Allow agent to remember previous interactions",
                "name": "enable_memory",
                "rows": 4,
                "type": "checkbox",
                "default": true,
                "required": true,
                "displayName": "Enable Memory"
              },
              {
                "hint": "Allow agent to use connected tools and functions",
                "name": "enable_tools",
                "rows": 4,
                "type": "checkbox",
                "default": true,
                "required": true,
                "displayName": "Enable Tools"
              }
            ],
            "description": "Orchestrates LLM, tools, and memory for complex, multi-step tasks.",
            "display_name": "Agent"
          },
          "description": "Orchestrates LLM, tools, and memory for complex, multi-step tasks.",
          "displayName": "Agent"
        },
        "type": "Agent",
        "dragging": false,
        "measured": {
          "width": 96,
          "height": 96
        },
        "position": {
          "x": 1110,
          "y": 270
        },
        "selected": false
      },
      {
        "id": "OpenAIChat-5",
        "data": {
          "icon": {
            "alt": "openaiicons",
            "name": "openai",
            "path": "icons/openai.svg"
          },
          "name": "OpenAIChat",
          "inputs": [
            {
              "name": "model_name",
              "type": "str",
              "default": "gpt-4o",
              "required": false,
              "description": "OpenAI model to use",
              "is_connection": false
            },
            {
              "name": "temperature",
              "type": "float",
              "default": 0.1,
              "required": false,
              "description": "Sampling temperature (0.0-2.0) - Controls randomness",
              "is_connection": false
            },
            {
              "name": "max_tokens",
              "type": "int",
              "default": 10000,
              "required": false,
              "description": "Maximum tokens to generate (default: model limit)",
              "is_connection": false
            },
            {
              "name": "top_p",
              "type": "float",
              "default": 1,
              "required": false,
              "description": "Nucleus sampling parameter (0.0-1.0)",
              "is_connection": false
            },
            {
              "name": "frequency_penalty",
              "type": "float",
              "default": 0,
              "required": false,
              "description": "Frequency penalty (-2.0 to 2.0)",
              "is_connection": false
            },
            {
              "name": "presence_penalty",
              "type": "float",
              "default": 0,
              "required": false,
              "description": "Presence penalty (-2.0 to 2.0)",
              "is_connection": false
            },
            {
              "name": "api_key",
              "type": "str",
              "required": true,
              "description": "OpenAI API Key",
              "is_connection": false
            },
            {
              "name": "system_prompt",
              "type": "str",
              "default": "You are a helpful, accurate, and intelligent AI assistant.",
              "required": false,
              "description": "System prompt for the model",
              "is_connection": false
            },
            {
              "name": "streaming",
              "type": "bool",
              "default": false,
              "required": false,
              "description": "Enable streaming responses",
              "is_connection": false
            },
            {
              "name": "timeout",
              "type": "int",
              "default": 60,
              "required": false,
              "description": "Request timeout in seconds",
              "is_connection": false
            }
          ],
          "outputs": [
            {
              "name": "llm",
              "type": "llm",
              "direction": "top",
              "description": "OpenAI Chat LLM instance configured with specified parameters",
              "displayName": "LLM",
              "is_connection": true
            },
            {
              "name": "model_info",
              "type": "dict",
              "description": "Model configuration information",
              "is_connection": false
            },
            {
              "name": "usage_stats",
              "type": "dict",
              "description": "Token usage and cost information",
              "is_connection": false
            }
          ],
          "metadata": {
            "id": "OpenAIChat",
            "icon": {
              "alt": "openaiicons",
              "name": "openai",
              "path": "icons/openai.svg"
            },
            "name": "OpenAIChat",
            "tags": [],
            "colors": ["purple-500", "indigo-600"],
            "inputs": [
              {
                "name": "model_name",
                "type": "str",
                "default": "gpt-4o",
                "required": false,
                "description": "OpenAI model to use",
                "is_connection": false
              },
              {
                "name": "temperature",
                "type": "float",
                "default": 0.1,
                "required": false,
                "description": "Sampling temperature (0.0-2.0) - Controls randomness",
                "is_connection": false
              },
              {
                "name": "max_tokens",
                "type": "int",
                "default": 10000,
                "required": false,
                "description": "Maximum tokens to generate (default: model limit)",
                "is_connection": false
              },
              {
                "name": "top_p",
                "type": "float",
                "default": 1,
                "required": false,
                "description": "Nucleus sampling parameter (0.0-1.0)",
                "is_connection": false
              },
              {
                "name": "frequency_penalty",
                "type": "float",
                "default": 0,
                "required": false,
                "description": "Frequency penalty (-2.0 to 2.0)",
                "is_connection": false
              },
              {
                "name": "presence_penalty",
                "type": "float",
                "default": 0,
                "required": false,
                "description": "Presence penalty (-2.0 to 2.0)",
                "is_connection": false
              },
              {
                "name": "api_key",
                "type": "str",
                "required": true,
                "description": "OpenAI API Key",
                "is_connection": false
              },
              {
                "name": "system_prompt",
                "type": "str",
                "default": "You are a helpful, accurate, and intelligent AI assistant.",
                "required": false,
                "description": "System prompt for the model",
                "is_connection": false
              },
              {
                "name": "streaming",
                "type": "bool",
                "default": false,
                "required": false,
                "description": "Enable streaming responses",
                "is_connection": false
              },
              {
                "name": "timeout",
                "type": "int",
                "default": 60,
                "required": false,
                "description": "Request timeout in seconds",
                "is_connection": false
              }
            ],
            "outputs": [
              {
                "name": "llm",
                "type": "llm",
                "direction": "top",
                "description": "OpenAI Chat LLM instance configured with specified parameters",
                "displayName": "LLM",
                "is_connection": true
              },
              {
                "name": "model_info",
                "type": "dict",
                "description": "Model configuration information",
                "is_connection": false
              },
              {
                "name": "usage_stats",
                "type": "dict",
                "description": "Token usage and cost information",
                "is_connection": false
              }
            ],
            "version": "1.0.0",
            "category": "LLM",
            "examples": [],
            "node_type": "provider",
            "properties": [
              {
                "name": "credential_id",
                "rows": 4,
                "type": "credential-select",
                "required": false,
                "displayName": "Credential",
                "placeholder": "Select Credential"
              },
              {
                "name": "api_key",
                "rows": 4,
                "type": "password",
                "required": false,
                "displayName": "API Key"
              },
              {
                "name": "model_name",
                "rows": 4,
                "type": "select",
                "default": "gpt-4o",
                "options": [
                  {
                    "label": "GPT-4o ⭐",
                    "value": "gpt-4o"
                  },
                  {
                    "label": "GPT-4o Mini",
                    "value": "gpt-4o-mini"
                  },
                  {
                    "label": "GPT-4 Turbo",
                    "value": "gpt-4-turbo"
                  },
                  {
                    "label": "GPT-4",
                    "value": "gpt-4"
                  },
                  {
                    "label": "GPT-4 32K",
                    "value": "gpt-4-32k"
                  }
                ],
                "required": true,
                "displayName": "Model"
              },
              {
                "max": 2,
                "min": 0,
                "name": "temperature",
                "rows": 4,
                "step": 0.1,
                "type": "range",
                "default": 0.7,
                "maxLabel": "Creative",
                "minLabel": "Precise",
                "required": true,
                "displayName": "Temperature"
              },
              {
                "max": 4096,
                "min": 1,
                "name": "max_tokens",
                "rows": 4,
                "type": "number",
                "default": 1000,
                "required": true,
                "displayName": "Max Tokens"
              }
            ],
            "description": "OpenAI Chat completion using latest GPT models with advanced configuration",
            "display_name": "OpenAI GPT"
          },
          "description": "OpenAI Chat completion using latest GPT models with advanced configuration",
          "displayName": "OpenAI GPT"
        },
        "type": "OpenAIChat",
        "dragging": false,
        "measured": {
          "width": 96,
          "height": 96
        },
        "position": {
          "x": 980,
          "y": 440
        },
        "selected": false
      },
      {
        "id": "BufferMemory-6",
        "data": {
          "icon": {
            "alt": null,
            "name": "database",
            "path": null
          },
          "name": "BufferMemory",
          "inputs": [
            {
              "name": "return_messages",
              "type": "bool",
              "default": true,
              "required": true,
              "description": "Return as messages.",
              "is_connection": false
            },
            {
              "name": "input_key",
              "type": "str",
              "default": "input",
              "required": true,
              "description": "Key for user input.",
              "is_connection": false
            },
            {
              "name": "user_id",
              "type": "str",
              "required": false,
              "description": "User ID for multi-tenancy.",
              "is_connection": false
            }
          ],
          "outputs": [
            {
              "name": "memory",
              "type": "BaseChatMemory",
              "direction": "top",
              "description": "Configured buffer memory instance.",
              "displayName": "Memory",
              "is_connection": true
            }
          ],
          "metadata": {
            "id": "BufferMemory",
            "icon": {
              "alt": null,
              "name": "database",
              "path": null
            },
            "name": "BufferMemory",
            "tags": [],
            "colors": ["blue-500", "indigo-600"],
            "inputs": [
              {
                "name": "return_messages",
                "type": "bool",
                "default": true,
                "required": true,
                "description": "Return as messages.",
                "is_connection": false
              },
              {
                "name": "input_key",
                "type": "str",
                "default": "input",
                "required": true,
                "description": "Key for user input.",
                "is_connection": false
              },
              {
                "name": "user_id",
                "type": "str",
                "required": false,
                "description": "User ID for multi-tenancy.",
                "is_connection": false
              }
            ],
            "outputs": [
              {
                "name": "memory",
                "type": "BaseChatMemory",
                "direction": "top",
                "description": "Configured buffer memory instance.",
                "displayName": "Memory",
                "is_connection": true
              }
            ],
            "version": "1.0.0",
            "category": "Other",
            "examples": [],
            "node_type": "memory",
            "properties": [
              {
                "name": "memory_key",
                "rows": 4,
                "type": "text",
                "default": "memory",
                "required": true,
                "displayName": "MEMORY KEY"
              },
              {
                "name": "input_key",
                "rows": 4,
                "type": "text",
                "default": "input",
                "required": true,
                "displayName": "INPUT KEY"
              },
              {
                "name": "output_key",
                "rows": 4,
                "type": "text",
                "default": "output",
                "required": true,
                "displayName": "OUTPUT KEY"
              },
              {
                "name": "return_messages",
                "rows": 4,
                "type": "checkbox",
                "default": true,
                "required": false,
                "displayName": "Return Messages"
              }
            ],
            "description": "Stores entire conversation history with database persistence.",
            "display_name": "Buffer Memory (Persistent)"
          },
          "description": "Stores entire conversation history with database persistence.",
          "displayName": "Buffer Memory (Persistent)"
        },
        "type": "BufferMemory",
        "dragging": false,
        "measured": {
          "width": 96,
          "height": 96
        },
        "position": {
          "x": 1110,
          "y": 440
        },
        "selected": false
      },
      {
        "id": "RetrieverProvider-7",
        "data": {
          "icon": {
            "alt": null,
            "name": "file-stack",
            "path": null
          },
          "name": "RetrieverProvider",
          "inputs": [
            {
              "name": "database_connection",
              "type": "str",
              "required": true,
              "description": "Database connection string (postgresql://user:pass@host:port/db)",
              "is_connection": false
            },
            {
              "name": "collection_name",
              "type": "str",
              "required": true,
              "description": "Vector collection name in the database",
              "is_connection": false
            },
            {
              "name": "search_k",
              "type": "int",
              "default": 6,
              "required": false,
              "description": "Number of documents to retrieve",
              "is_connection": false
            },
            {
              "name": "search_type",
              "type": "str",
              "default": "similarity",
              "required": false,
              "description": "Search type for retrieval",
              "is_connection": false
            },
            {
              "name": "score_threshold",
              "type": "float",
              "default": 0,
              "required": false,
              "description": "Minimum similarity score threshold (0.0-1.0)",
              "is_connection": false
            },
            {
              "name": "metadata_filter",
              "type": "json",
              "default": "{}",
              "required": false,
              "description": "Filter documents by metadata (JSON format)",
              "is_connection": false
            },
            {
              "name": "filter_strategy",
              "type": "select",
              "default": "exact",
              "required": false,
              "description": "How to apply metadata filters",
              "is_connection": false
            },
            {
              "name": "enable_metadata_filtering",
              "type": "boolean",
              "default": false,
              "required": false,
              "description": "Enable metadata-based filtering for search results",
              "is_connection": false
            },
            {
              "name": "embedder",
              "type": "embedder",
              "required": true,
              "direction": "bottom",
              "description": "Embedder service for retrieval (OpenAIEmbeddings, etc.)",
              "displayName": "Embedder",
              "is_connection": true
            },
            {
              "name": "reranker",
              "type": "reranker",
              "required": false,
              "direction": "bottom",
              "description": "Optional reranker service for enhanced retrieval (CohereReranker, etc.)",
              "displayName": "Reranker",
              "is_connection": true
            }
          ],
          "outputs": [
            {
              "name": "retriever_tool",
              "type": "BaseTool",
              "direction": "top",
              "description": "Configured retriever tool ready for use with agents",
              "displayName": "Retriever Tool",
              "is_connection": true
            }
          ],
          "metadata": {
            "id": "RetrieverProvider",
            "icon": {
              "alt": null,
              "name": "file-stack",
              "path": null
            },
            "name": "RetrieverProvider",
            "tags": [],
            "colors": ["indigo-500", "purple-600"],
            "inputs": [
              {
                "name": "database_connection",
                "type": "str",
                "required": true,
                "description": "Database connection string (postgresql://user:pass@host:port/db)",
                "is_connection": false
              },
              {
                "name": "collection_name",
                "type": "str",
                "required": true,
                "description": "Vector collection name in the database",
                "is_connection": false
              },
              {
                "name": "search_k",
                "type": "int",
                "default": 6,
                "required": false,
                "description": "Number of documents to retrieve",
                "is_connection": false
              },
              {
                "name": "search_type",
                "type": "str",
                "default": "similarity",
                "required": false,
                "description": "Search type for retrieval",
                "is_connection": false
              },
              {
                "name": "score_threshold",
                "type": "float",
                "default": 0,
                "required": false,
                "description": "Minimum similarity score threshold (0.0-1.0)",
                "is_connection": false
              },
              {
                "name": "metadata_filter",
                "type": "json",
                "default": "{}",
                "required": false,
                "description": "Filter documents by metadata (JSON format)",
                "is_connection": false
              },
              {
                "name": "filter_strategy",
                "type": "select",
                "default": "exact",
                "required": false,
                "description": "How to apply metadata filters",
                "is_connection": false
              },
              {
                "name": "enable_metadata_filtering",
                "type": "boolean",
                "default": false,
                "required": false,
                "description": "Enable metadata-based filtering for search results",
                "is_connection": false
              },
              {
                "name": "embedder",
                "type": "embedder",
                "required": true,
                "direction": "bottom",
                "description": "Embedder service for retrieval (OpenAIEmbeddings, etc.)",
                "displayName": "Embedder",
                "is_connection": true
              },
              {
                "name": "reranker",
                "type": "reranker",
                "required": false,
                "direction": "bottom",
                "description": "Optional reranker service for enhanced retrieval (CohereReranker, etc.)",
                "displayName": "Reranker",
                "is_connection": true
              }
            ],
            "outputs": [
              {
                "name": "retriever_tool",
                "type": "BaseTool",
                "direction": "top",
                "description": "Configured retriever tool ready for use with agents",
                "displayName": "Retriever Tool",
                "is_connection": true
              }
            ],
            "version": "1.0.0",
            "category": "Tool",
            "examples": [],
            "node_type": "provider",
            "properties": [
              {
                "name": "credential",
                "rows": 4,
                "type": "credential-select",
                "required": false,
                "displayName": "Select Credential",
                "placeholder": "Select Credential"
              },
              {
                "name": "database_connection",
                "rows": 4,
                "type": "password",
                "required": true,
                "description": "PostgreSQL connection string",
                "displayName": "Database Connection"
              },
              {
                "name": "collection_name",
                "rows": 4,
                "type": "text",
                "required": true,
                "displayName": "Collection Name",
                "placeholder": "e.g., documents, products, knowledge_base"
              },
              {
                "hint": "Similarity search for exact matches, MMR for diverse results",
                "name": "search_type",
                "rows": 4,
                "type": "select",
                "default": "similarity",
                "options": [
                  {
                    "label": "Similarity Search",
                    "value": "similarity"
                  },
                  {
                    "label": "MMR (Maximal Marginal Relevance)",
                    "value": "mmr"
                  }
                ],
                "required": true,
                "displayName": "Search Type"
              },
              {
                "max": 50,
                "min": 1,
                "name": "search_k",
                "rows": 4,
                "type": "range",
                "default": 6,
                "maxLabel": "Many Results",
                "minLabel": "Few Results",
                "required": true,
                "displayName": "Search K"
              },
              {
                "max": 1,
                "min": 0,
                "name": "score_threshold",
                "rows": 4,
                "step": 0.05,
                "type": "range",
                "default": 0,
                "maxLabel": "Strict",
                "minLabel": "Inclusive",
                "required": true,
                "displayName": "Score Threshold"
              },
              {
                "hint": "Enable metadata-based filtering for search results",
                "name": "enable_metadata_filtering",
                "rows": 4,
                "type": "checkbox",
                "default": false,
                "required": true,
                "displayName": "Enable Metadata Filtering"
              },
              {
                "name": "metadata_filter",
                "rows": 4,
                "type": "json-editor",
                "required": true,
                "description": "Filter documents by metadata (JSON format)",
                "displayName": "Metadata Filter",
                "displayOptions": {
                  "show": {
                    "enable_metadata_filtering": true
                  }
                }
              },
              {
                "hint": "How to apply metadata filters",
                "name": "filter_strategy",
                "rows": 4,
                "type": "select",
                "default": "exact",
                "options": [
                  {
                    "label": "Exact Match",
                    "value": "exact"
                  },
                  {
                    "label": "Contains",
                    "value": "contains"
                  },
                  {
                    "label": "Any Match (OR)",
                    "value": "or"
                  }
                ],
                "required": true,
                "displayName": "Filter Strategy",
                "displayOptions": {
                  "show": {
                    "enable_metadata_filtering": true
                  }
                }
              }
            ],
            "description": "Provider node that creates configured retriever tools for agents. Connect to a vector database and embeddings provider to create a search tool for your agents.",
            "display_name": "Retriever Provider"
          },
          "description": "Provider node that creates configured retriever tools for agents. Connect to a vector database and embeddings provider to create a search tool for your agents.",
          "displayName": "Retriever Provider"
        },
        "type": "RetrieverProvider",
        "dragging": false,
        "measured": {
          "width": 96,
          "height": 96
        },
        "position": {
          "x": 1240,
          "y": 440
        },
        "selected": false
      },
      {
        "id": "OpenAIEmbeddingsProvider-8",
        "data": {
          "icon": {
            "alt": "openaiicons",
            "name": "openai",
            "path": "icons/openai.svg"
          },
          "name": "OpenAIEmbeddingsProvider",
          "inputs": [
            {
              "name": "openai_api_key",
              "type": "str",
              "required": false,
              "description": "OpenAI API Key (leave empty to use OPENAI_API_KEY environment variable)",
              "is_connection": false
            },
            {
              "name": "model",
              "type": "str",
              "default": "text-embedding-3-small",
              "required": false,
              "description": "OpenAI embedding model to use",
              "is_connection": false
            },
            {
              "name": "request_timeout",
              "type": "int",
              "default": 60,
              "required": false,
              "description": "Request timeout in seconds",
              "is_connection": false
            },
            {
              "name": "max_retries",
              "type": "int",
              "default": 3,
              "required": false,
              "description": "Maximum number of retries for failed requests",
              "is_connection": false
            }
          ],
          "outputs": [
            {
              "name": "embedder",
              "type": "OpenAIEmbeddings",
              "direction": "top",
              "description": "Configured OpenAIEmbeddings instance ready for use",
              "displayName": "Embedder",
              "is_connection": true
            }
          ],
          "metadata": {
            "id": "OpenAIEmbeddingsProvider",
            "icon": {
              "alt": "openaiicons",
              "name": "openai",
              "path": "icons/openai.svg"
            },
            "name": "OpenAIEmbeddingsProvider",
            "tags": [],
            "colors": ["cyan-500", "blue-600"],
            "inputs": [
              {
                "name": "openai_api_key",
                "type": "str",
                "required": false,
                "description": "OpenAI API Key (leave empty to use OPENAI_API_KEY environment variable)",
                "is_connection": false
              },
              {
                "name": "model",
                "type": "str",
                "default": "text-embedding-3-small",
                "required": false,
                "description": "OpenAI embedding model to use",
                "is_connection": false
              },
              {
                "name": "request_timeout",
                "type": "int",
                "default": 60,
                "required": false,
                "description": "Request timeout in seconds",
                "is_connection": false
              },
              {
                "name": "max_retries",
                "type": "int",
                "default": 3,
                "required": false,
                "description": "Maximum number of retries for failed requests",
                "is_connection": false
              }
            ],
            "outputs": [
              {
                "name": "embedder",
                "type": "OpenAIEmbeddings",
                "direction": "top",
                "description": "Configured OpenAIEmbeddings instance ready for use",
                "displayName": "Embedder",
                "is_connection": true
              }
            ],
            "version": "1.0.0",
            "category": "Embedding",
            "examples": [],
            "node_type": "provider",
            "properties": [
              {
                "hint": "The model to use for generating embeddings.",
                "name": "model",
                "rows": 4,
                "type": "select",
                "default": "text-embedding-3-small",
                "options": [
                  {
                    "label": "text-embedding-3-small (1536D)",
                    "value": "text-embedding-3-small"
                  },
                  {
                    "label": "text-embedding-3-large (3072D)",
                    "value": "text-embedding-3-large"
                  },
                  {
                    "label": "text-embedding-ada-002 (1536D)",
                    "value": "text-embedding-ada-002"
                  }
                ],
                "required": true,
                "displayName": "Embedding Model"
              },
              {
                "name": "credential",
                "rows": 4,
                "type": "credential-select",
                "required": false,
                "displayName": "Select Credential",
                "placeholder": "Select Credential"
              },
              {
                "hint": "OpenAI API Key.",
                "name": "openai_api_key",
                "rows": 4,
                "type": "password",
                "required": true,
                "displayName": "API Key"
              },
              {
                "hint": "OpenAI Organization ID.",
                "name": "organization",
                "rows": 4,
                "type": "text",
                "required": false,
                "displayName": "Organization (Optional)",
                "placeholder": "org-..."
              },
              {
                "max": 100,
                "min": 1,
                "hint": "Number of texts to embed in a single batch.",
                "name": "batch_size",
                "rows": 4,
                "type": "number",
                "default": 100,
                "required": true,
                "displayName": "Batch Size"
              },
              {
                "max": 10,
                "min": 0,
                "hint": "Maximum number of retries for failed requests.",
                "name": "max_retries",
                "rows": 4,
                "type": "number",
                "default": 3,
                "required": true,
                "displayName": "Max Retries"
              },
              {
                "max": 300,
                "min": 10,
                "hint": "Timeout for API requests in seconds.",
                "name": "request_timeout",
                "rows": 4,
                "type": "number",
                "default": 30,
                "required": true,
                "displayName": "Request Timeout (seconds)"
              },
              {
                "hint": "Auto-calculated based on model selection.",
                "name": "dimensions",
                "rows": 4,
                "type": "number",
                "default": 1536,
                "required": true,
                "displayName": "Dimensions"
              }
            ],
            "description": "Provider node that creates configured OpenAIEmbeddings instances. Use this node to create a shared embeddings instance for your workflow.",
            "display_name": "OpenAI Embeddings Provider"
          },
          "description": "Provider node that creates configured OpenAIEmbeddings instances. Use this node to create a shared embeddings instance for your workflow.",
          "displayName": "OpenAI Embeddings Provider"
        },
        "type": "OpenAIEmbeddingsProvider",
        "dragging": false,
        "measured": {
          "width": 96,
          "height": 96
        },
        "position": {
          "x": 1160,
          "y": 590
        },
        "selected": false
      },
      {
        "id": "CohereRerankerProvider-9",
        "data": {
          "icon": {
            "alt": "coherererankericons",
            "name": "cohere",
            "path": "icons/cohere.svg"
          },
          "name": "CohereRerankerProvider",
          "inputs": [
            {
              "name": "cohere_api_key",
              "type": "str",
              "required": false,
              "description": "Cohere API Key (leave empty to use COHERE_API_KEY environment variable)",
              "is_connection": false
            },
            {
              "name": "model",
              "type": "str",
              "default": "rerank-english-v3.0",
              "required": false,
              "description": "Cohere reranking model to use",
              "is_connection": false
            },
            {
              "name": "top_n",
              "type": "int",
              "required": true,
              "description": "Number of top results to return",
              "is_connection": false
            }
          ],
          "outputs": [
            {
              "name": "reranker",
              "type": "CohereRerank",
              "direction": "top",
              "description": "Configured Cohere reranker compressor ready for use",
              "displayName": "Reranker Model",
              "is_connection": true
            }
          ],
          "metadata": {
            "id": "CohereRerankerProvider",
            "icon": {
              "alt": "coherererankericons",
              "name": "cohere",
              "path": "icons/cohere.svg"
            },
            "name": "CohereRerankerProvider",
            "tags": [],
            "colors": ["orange-500", "red-600"],
            "inputs": [
              {
                "name": "cohere_api_key",
                "type": "str",
                "required": false,
                "description": "Cohere API Key (leave empty to use COHERE_API_KEY environment variable)",
                "is_connection": false
              },
              {
                "name": "model",
                "type": "str",
                "default": "rerank-english-v3.0",
                "required": false,
                "description": "Cohere reranking model to use",
                "is_connection": false
              },
              {
                "name": "top_n",
                "type": "int",
                "required": true,
                "description": "Number of top results to return",
                "is_connection": false
              }
            ],
            "outputs": [
              {
                "name": "reranker",
                "type": "CohereRerank",
                "direction": "top",
                "description": "Configured Cohere reranker compressor ready for use",
                "displayName": "Reranker Model",
                "is_connection": true
              }
            ],
            "version": "1.0.0",
            "category": "Tool",
            "examples": [],
            "node_type": "provider",
            "properties": [
              {
                "name": "credential",
                "rows": 4,
                "type": "credential-select",
                "required": false,
                "displayName": "Select Credential",
                "placeholder": "Select Credential"
              },
              {
                "name": "cohere_api_key",
                "rows": 4,
                "type": "password",
                "required": true,
                "displayName": "API Key"
              },
              {
                "name": "model",
                "rows": 4,
                "type": "select",
                "default": "rerank-english-v3.0",
                "options": [
                  {
                    "label": "Rerank English v3.0",
                    "value": "rerank-english-v3.0"
                  },
                  {
                    "label": "Rerank Multilingual v3.0",
                    "value": "rerank-multilingual-v3.0"
                  },
                  {
                    "label": "Rerank English v2.0",
                    "value": "rerank-english-v2.0"
                  },
                  {
                    "label": "Rerank Multilingual v2.0",
                    "value": "rerank-multilingual-v2.0"
                  }
                ],
                "required": true,
                "displayName": "Model"
              },
              {
                "max": 20,
                "min": 1,
                "name": "top_n",
                "rows": 4,
                "type": "range",
                "default": 10,
                "maxLabel": "20",
                "minLabel": "1",
                "required": true,
                "displayName": "Top N"
              },
              {
                "max": 50,
                "min": 1,
                "name": "max_chunks_per_doc",
                "rows": 4,
                "type": "range",
                "color": "green-500",
                "default": 10,
                "maxLabel": "50",
                "minLabel": "1",
                "required": true,
                "displayName": "Max Chunks Per Doc"
              }
            ],
            "description": "Provider node that creates configured Cohere reranker instances. Use this node to create a shared reranker for your workflow.",
            "display_name": "Cohere Reranker Provider"
          },
          "description": "Provider node that creates configured Cohere reranker instances. Use this node to create a shared reranker for your workflow.",
          "displayName": "Cohere Reranker Provider"
        },
        "type": "CohereRerankerProvider",
        "dragging": false,
        "measured": {
          "width": 96,
          "height": 96
        },
        "position": {
          "x": 1320,
          "y": 590
        },
        "selected": false
      }
    ]
  }
}