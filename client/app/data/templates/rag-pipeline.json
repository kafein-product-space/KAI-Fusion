{
  "id": "rag_pipeline",
  "name": "RAG Pipeline",
  "description": "Complete RAG architecture with web scraping, document chunking, embeddings, and vector storage. Ready for intelligent document retrieval and Q&A.",
  "colorFrom": "from-emerald-500",
  "colorTo": "to-teal-600",
  "icon": { "name": "chart-column", "path": null, "alt": null },
  "flow_data": {
    "edges": [
      {
        "id": "xy-edge__StartNode-1output-WebScraper-3input_urls",
        "type": "custom",
        "source": "StartNode-1",
        "target": "WebScraper-3",
        "sourceHandle": "output",
        "targetHandle": "input_urls"
      },
      {
        "id": "xy-edge__WebScraper-3documents-ChunkSplitter-4documents",
        "type": "custom",
        "source": "WebScraper-3",
        "target": "ChunkSplitter-4",
        "sourceHandle": "documents",
        "targetHandle": "documents"
      },
      {
        "id": "xy-edge__ChunkSplitter-4chunks-VectorStoreOrchestrator-6documents",
        "type": "custom",
        "source": "ChunkSplitter-4",
        "target": "VectorStoreOrchestrator-6",
        "sourceHandle": "chunks",
        "targetHandle": "documents"
      },
      {
        "id": "xy-edge__VectorStoreOrchestrator-6result-EndNode-2target",
        "type": "custom",
        "source": "VectorStoreOrchestrator-6",
        "target": "EndNode-2",
        "sourceHandle": "result",
        "targetHandle": "target"
      },
      {
        "id": "xy-edge__OpenAIEmbeddingsProvider-5embedder-VectorStoreOrchestrator-6embedder",
        "type": "custom",
        "source": "OpenAIEmbeddingsProvider-5",
        "target": "VectorStoreOrchestrator-6",
        "sourceHandle": "embedder",
        "targetHandle": "embedder"
      }
    ],
    "nodes": [
      {
        "id": "StartNode-1",
        "data": {
          "icon": {
            "alt": null,
            "name": "rocket",
            "path": null
          },
          "name": "StartNode",
          "inputs": [
            {
              "name": "initial_input",
              "type": "string",
              "default": "",
              "required": false,
              "description": "Initial input text to start the workflow",
              "displayName": "Initial Input",
              "is_connection": false
            },
            {
              "name": "trigger_data",
              "type": "any",
              "required": false,
              "description": "Data received from trigger nodes",
              "displayName": "Trigger Data",
              "is_connection": true
            }
          ],
          "outputs": [
            {
              "name": "output",
              "type": "string",
              "description": "Forwarded input to start the workflow chain",
              "displayName": "Execute",
              "is_connection": true
            }
          ],
          "metadata": {
            "id": "StartNode",
            "icon": {
              "alt": null,
              "name": "rocket",
              "path": null
            },
            "name": "StartNode",
            "tags": [],
            "colors": ["green-500", "emerald-600"],
            "inputs": [
              {
                "name": "initial_input",
                "type": "string",
                "default": "",
                "required": false,
                "description": "Initial input text to start the workflow",
                "displayName": "Initial Input",
                "is_connection": false
              },
              {
                "name": "trigger_data",
                "type": "any",
                "required": false,
                "description": "Data received from trigger nodes",
                "displayName": "Trigger Data",
                "is_connection": true
              }
            ],
            "outputs": [
              {
                "name": "output",
                "type": "string",
                "description": "Forwarded input to start the workflow chain",
                "displayName": "Execute",
                "is_connection": true
              }
            ],
            "version": "1.0.0",
            "category": "Special",
            "examples": [],
            "node_type": "processor",
            "description": "Entry point for workflow execution. Receives initial input and starts the workflow.",
            "display_name": "Start"
          },
          "description": "Entry point for workflow execution. Receives initial input and starts the workflow.",
          "displayName": "Start"
        },
        "type": "StartNode",
        "dragging": false,
        "measured": {
          "width": 96,
          "height": 96
        },
        "position": {
          "x": 550,
          "y": 470
        },
        "selected": false
      },
      {
        "id": "EndNode-2",
        "data": {
          "icon": {
            "alt": null,
            "name": "flag",
            "path": null
          },
          "name": "EndNode",
          "inputs": [
            {
              "name": "target",
              "type": "any",
              "required": true,
              "description": "The final data from the preceding node",
              "displayName": "Target",
              "is_connection": true
            }
          ],
          "outputs": [],
          "metadata": {
            "id": "EndNode",
            "icon": {
              "alt": null,
              "name": "flag",
              "path": null
            },
            "name": "EndNode",
            "tags": [],
            "colors": ["gray-500", "slate-600"],
            "inputs": [
              {
                "name": "target",
                "type": "any",
                "required": true,
                "description": "The final data from the preceding node",
                "displayName": "Target",
                "is_connection": true
              }
            ],
            "outputs": [],
            "version": "1.0.0",
            "category": "Special",
            "examples": [],
            "node_type": "terminator",
            "description": "Marks the end of a workflow path",
            "display_name": "End"
          },
          "description": "Marks the end of a workflow path",
          "displayName": "End"
        },
        "type": "EndNode",
        "dragging": false,
        "measured": {
          "width": 96,
          "height": 96
        },
        "position": {
          "x": 1450,
          "y": 460
        },
        "selected": false
      },
      {
        "id": "WebScraper-3",
        "data": {
          "icon": {
            "alt": null,
            "name": "pickaxe",
            "path": null
          },
          "name": "WebScraper",
          "inputs": [
            {
              "name": "urls",
              "type": "textarea",
              "required": false,
              "description": "Enter URLs to scrape (one URL per line)",
              "is_connection": false
            },
            {
              "name": "input_urls",
              "type": "any",
              "required": false,
              "description": "URLs received from previous nodes in the workflow",
              "displayName": "Input URLs",
              "is_connection": true
            },
            {
              "name": "user_agent",
              "type": "str",
              "default": "Mozilla/5.0 (compatible; KAI-Fusion/2.1.0; Web-Scraper)",
              "required": false,
              "description": "User agent string for web requests",
              "is_connection": false
            },
            {
              "name": "remove_selectors",
              "type": "str",
              "default": "nav,footer,header,script,style,aside,noscript,form",
              "required": false,
              "description": "CSS selectors to remove (comma-separated)",
              "is_connection": false
            },
            {
              "name": "min_content_length",
              "type": "int",
              "default": 100,
              "required": false,
              "description": "Minimum content length to include",
              "is_connection": false
            }
          ],
          "outputs": [
            {
              "name": "documents",
              "type": "documents",
              "description": "List of LangChain Documents with cleaned text content",
              "displayName": "Documents",
              "is_connection": true
            }
          ],
          "metadata": {
            "id": "WebScraper",
            "icon": {
              "alt": null,
              "name": "pickaxe",
              "path": null
            },
            "name": "WebScraper",
            "tags": [],
            "colors": ["blue-500", "indigo-600"],
            "inputs": [
              {
                "name": "urls",
                "type": "textarea",
                "required": false,
                "description": "Enter URLs to scrape (one URL per line)",
                "is_connection": false
              },
              {
                "name": "input_urls",
                "type": "any",
                "required": false,
                "description": "URLs received from previous nodes in the workflow",
                "displayName": "Input URLs",
                "is_connection": true
              },
              {
                "name": "user_agent",
                "type": "str",
                "default": "Mozilla/5.0 (compatible; KAI-Fusion/2.1.0; Web-Scraper)",
                "required": false,
                "description": "User agent string for web requests",
                "is_connection": false
              },
              {
                "name": "remove_selectors",
                "type": "str",
                "default": "nav,footer,header,script,style,aside,noscript,form",
                "required": false,
                "description": "CSS selectors to remove (comma-separated)",
                "is_connection": false
              },
              {
                "name": "min_content_length",
                "type": "int",
                "default": 100,
                "required": false,
                "description": "Minimum content length to include",
                "is_connection": false
              }
            ],
            "outputs": [
              {
                "name": "documents",
                "type": "documents",
                "description": "List of LangChain Documents with cleaned text content",
                "displayName": "Documents",
                "is_connection": true
              }
            ],
            "version": "1.0.0",
            "category": "Tool",
            "examples": [],
            "node_type": "processor",
            "properties": [
              {
                "name": "credential",
                "rows": 4,
                "type": "credential-select",
                "tabName": "basic",
                "required": false,
                "displayName": "Credential (Optional)",
                "placeholder": "Select Credential"
              },
              {
                "name": "urls",
                "rows": 4,
                "type": "textarea",
                "tabName": "basic",
                "required": true,
                "displayName": "URLs to Scrape",
                "placeholder": "https://example.com\nhttps://example.org"
              },
              {
                "name": "user_agent",
                "rows": 4,
                "type": "text",
                "tabName": "basic",
                "required": true,
                "displayName": "User Agent",
                "placeholder": "Default KAI-Fusion"
              },
              {
                "hint": "CSS selectors to remove from scraped content",
                "name": "remove_selectors",
                "rows": 2,
                "type": "textarea",
                "tabName": "basic",
                "required": true,
                "displayName": "Remove Selectors",
                "placeholder": "nav,footer,header,script,style,aside,noscript,form"
              },
              {
                "name": "min_content_length",
                "rows": 4,
                "type": "number",
                "colSpan": 1,
                "tabName": "advanced",
                "required": true,
                "minLength": 1,
                "displayName": "Min Content Length"
              },
              {
                "max": 10,
                "min": 1,
                "name": "max_concurrent",
                "rows": 4,
                "type": "number",
                "colSpan": 1,
                "default": 5,
                "tabName": "advanced",
                "required": true,
                "displayName": "Max Concurrent"
              },
              {
                "max": 300,
                "min": 5,
                "name": "timeout_seconds",
                "rows": 4,
                "type": "number",
                "colSpan": 1,
                "tabName": "advanced",
                "required": true,
                "displayName": "Timeout (seconds)"
              },
              {
                "max": 5,
                "min": 0,
                "name": "retry_attempts",
                "rows": 4,
                "type": "number",
                "colSpan": 1,
                "tabName": "advanced",
                "required": true,
                "displayName": "Retry Attempts"
              },
              {
                "hint": "Used for enhanced web search capabilities",
                "name": "tavily_api_key",
                "rows": 4,
                "type": "password",
                "tabName": "advanced",
                "required": false,
                "displayName": "Tavily API Key (Optional)",
                "placeholder": "Enter your Tavily API key"
              }
            ],
            "description": "Fetches web pages using Tavily API and extracts clean text content. Input multiple URLs (one per line) to scrape content from web pages.",
            "display_name": "Web Scraper"
          },
          "description": "Fetches web pages using Tavily API and extracts clean text content. Input multiple URLs (one per line) to scrape content from web pages.",
          "displayName": "Web Scraper"
        },
        "type": "WebScraper",
        "dragging": false,
        "measured": {
          "width": 96,
          "height": 96
        },
        "position": {
          "x": 780,
          "y": 470
        },
        "selected": false
      },
      {
        "id": "ChunkSplitter-4",
        "data": {
          "icon": {
            "alt": null,
            "name": "scissors",
            "path": null
          },
          "name": "ChunkSplitter",
          "inputs": [
            {
              "name": "documents",
              "type": "documents",
              "required": true,
              "description": "List of documents to split into chunks",
              "displayName": "Documents",
              "is_connection": true
            },
            {
              "name": "split_strategy",
              "type": "select",
              "required": true,
              "description": "Text splitting strategy to use",
              "is_connection": false
            },
            {
              "name": "chunk_size",
              "type": "slider",
              "required": true,
              "description": "Maximum size of each chunk (characters or tokens)",
              "is_connection": false
            },
            {
              "name": "chunk_overlap",
              "type": "slider",
              "required": true,
              "description": "Overlap between consecutive chunks (helps maintain context)",
              "is_connection": false
            },
            {
              "name": "separators",
              "type": "text",
              "default": "\\n\\n,\\n, ,.",
              "required": false,
              "description": "Custom separators (comma-separated, for character splitters)",
              "is_connection": false
            },
            {
              "name": "header_levels",
              "type": "text",
              "default": "h1,h2,h3",
              "required": false,
              "description": "Header levels to split on (for markdown/html, e.g., 'h1,h2,h3')",
              "is_connection": false
            },
            {
              "name": "keep_separator",
              "type": "boolean",
              "default": true,
              "required": false,
              "description": "Keep separator in chunks (helps maintain formatting)",
              "is_connection": false
            },
            {
              "name": "strip_whitespace",
              "type": "boolean",
              "default": true,
              "required": false,
              "description": "Strip leading/trailing whitespace from chunks",
              "is_connection": false
            },
            {
              "name": "length_function",
              "type": "select",
              "default": "len",
              "required": false,
              "description": "How to measure chunk length",
              "is_connection": false
            }
          ],
          "outputs": [
            {
              "name": "chunks",
              "type": "documents",
              "description": "Complete list of document chunks ready for embedding",
              "displayName": "Chunks",
              "is_connection": true
            },
            {
              "name": "stats",
              "type": "dict",
              "description": "Comprehensive chunking statistics and analytics",
              "is_connection": false
            },
            {
              "name": "preview",
              "type": "list",
              "description": "Preview of first 10 chunks for UI inspection",
              "is_connection": false
            },
            {
              "name": "metadata_report",
              "type": "dict",
              "description": "Detailed metadata analysis and quality metrics",
              "is_connection": false
            }
          ],
          "metadata": {
            "id": "ChunkSplitter",
            "icon": {
              "alt": null,
              "name": "scissors",
              "path": null
            },
            "name": "ChunkSplitter",
            "tags": [],
            "colors": ["yellow-500", "orange-600"],
            "inputs": [
              {
                "name": "documents",
                "type": "documents",
                "required": true,
                "description": "List of documents to split into chunks",
                "displayName": "Documents",
                "is_connection": true
              },
              {
                "name": "split_strategy",
                "type": "select",
                "required": true,
                "description": "Text splitting strategy to use",
                "is_connection": false
              },
              {
                "name": "chunk_size",
                "type": "slider",
                "required": true,
                "description": "Maximum size of each chunk (characters or tokens)",
                "is_connection": false
              },
              {
                "name": "chunk_overlap",
                "type": "slider",
                "required": true,
                "description": "Overlap between consecutive chunks (helps maintain context)",
                "is_connection": false
              },
              {
                "name": "separators",
                "type": "text",
                "default": "\\n\\n,\\n, ,.",
                "required": false,
                "description": "Custom separators (comma-separated, for character splitters)",
                "is_connection": false
              },
              {
                "name": "header_levels",
                "type": "text",
                "default": "h1,h2,h3",
                "required": false,
                "description": "Header levels to split on (for markdown/html, e.g., 'h1,h2,h3')",
                "is_connection": false
              },
              {
                "name": "keep_separator",
                "type": "boolean",
                "default": true,
                "required": false,
                "description": "Keep separator in chunks (helps maintain formatting)",
                "is_connection": false
              },
              {
                "name": "strip_whitespace",
                "type": "boolean",
                "default": true,
                "required": false,
                "description": "Strip leading/trailing whitespace from chunks",
                "is_connection": false
              },
              {
                "name": "length_function",
                "type": "select",
                "default": "len",
                "required": false,
                "description": "How to measure chunk length",
                "is_connection": false
              }
            ],
            "outputs": [
              {
                "name": "chunks",
                "type": "documents",
                "description": "Complete list of document chunks ready for embedding",
                "displayName": "Chunks",
                "is_connection": true
              },
              {
                "name": "stats",
                "type": "dict",
                "description": "Comprehensive chunking statistics and analytics",
                "is_connection": false
              },
              {
                "name": "preview",
                "type": "list",
                "description": "Preview of first 10 chunks for UI inspection",
                "is_connection": false
              },
              {
                "name": "metadata_report",
                "type": "dict",
                "description": "Detailed metadata analysis and quality metrics",
                "is_connection": false
              }
            ],
            "version": "1.0.0",
            "category": "text_splitter",
            "examples": [],
            "node_type": "processor",
            "properties": [
              {
                "max": 10000,
                "min": 100,
                "hint": "Number of characters per chunk (100-10000)",
                "name": "chunk_size",
                "rows": 4,
                "type": "number",
                "default": 1000,
                "required": true,
                "displayName": "Chunk Size"
              },
              {
                "max": 5000,
                "min": 0,
                "hint": "Number of characters to overlap between chunks (0-5000)",
                "name": "chunk_overlap",
                "rows": 4,
                "type": "number",
                "default": 200,
                "required": true,
                "displayName": "Overlap"
              },
              {
                "hint": "Character or string to split on",
                "name": "separator",
                "rows": 4,
                "type": "text",
                "default": "\\n\\n",
                "required": false,
                "displayName": "Separator"
              },
              {
                "hint": "Whether to keep the separator in the chunks",
                "name": "keep_separator",
                "rows": 4,
                "type": "select",
                "default": "true",
                "options": [
                  {
                    "label": "Yes",
                    "value": "true"
                  },
                  {
                    "label": "No",
                    "value": "false"
                  }
                ],
                "required": false,
                "displayName": "Keep Separator"
              },
              {
                "hint": "Function to measure chunk length",
                "name": "length_function",
                "rows": 4,
                "type": "select",
                "default": "len",
                "options": [
                  {
                    "label": "Character Count (len)",
                    "value": "len"
                  },
                  {
                    "label": "Token Count",
                    "value": "tokenizer"
                  },
                  {
                    "label": "Custom Function",
                    "value": "custom"
                  }
                ],
                "required": false,
                "displayName": "Length Function"
              },
              {
                "hint": "Treat separator as regular expression",
                "name": "is_separator_regex",
                "rows": 4,
                "type": "select",
                "default": "false",
                "options": [
                  {
                    "label": "No",
                    "value": "false"
                  },
                  {
                    "label": "Yes",
                    "value": "true"
                  }
                ],
                "required": false,
                "displayName": "Use Regex Separator"
              }
            ],
            "description": "Advanced text splitter with multiple strategies, real-time preview, and comprehensive analytics. Splits documents into optimized chunks for embedding and processing.",
            "display_name": "Document Chunk Splitter"
          },
          "description": "Advanced text splitter with multiple strategies, real-time preview, and comprehensive analytics. Splits documents into optimized chunks for embedding and processing.",
          "displayName": "Document Chunk Splitter"
        },
        "type": "ChunkSplitter",
        "dragging": false,
        "measured": {
          "width": 96,
          "height": 96
        },
        "position": {
          "x": 1020,
          "y": 410
        },
        "selected": false
      },
      {
        "id": "OpenAIEmbeddingsProvider-5",
        "data": {
          "icon": {
            "alt": "openaiicons",
            "name": "openai",
            "path": "icons/openai.svg"
          },
          "name": "OpenAIEmbeddingsProvider",
          "inputs": [
            {
              "name": "openai_api_key",
              "type": "str",
              "required": false,
              "description": "OpenAI API Key (leave empty to use OPENAI_API_KEY environment variable)",
              "is_connection": false
            },
            {
              "name": "model",
              "type": "str",
              "default": "text-embedding-3-small",
              "required": false,
              "description": "OpenAI embedding model to use",
              "is_connection": false
            },
            {
              "name": "request_timeout",
              "type": "int",
              "default": 60,
              "required": false,
              "description": "Request timeout in seconds",
              "is_connection": false
            },
            {
              "name": "max_retries",
              "type": "int",
              "default": 3,
              "required": false,
              "description": "Maximum number of retries for failed requests",
              "is_connection": false
            }
          ],
          "outputs": [
            {
              "name": "embedder",
              "type": "OpenAIEmbeddings",
              "direction": "top",
              "description": "Configured OpenAIEmbeddings instance ready for use",
              "displayName": "Embedder",
              "is_connection": true
            }
          ],
          "metadata": {
            "id": "OpenAIEmbeddingsProvider",
            "icon": {
              "alt": "openaiicons",
              "name": "openai",
              "path": "icons/openai.svg"
            },
            "name": "OpenAIEmbeddingsProvider",
            "tags": [],
            "colors": ["cyan-500", "blue-600"],
            "inputs": [
              {
                "name": "openai_api_key",
                "type": "str",
                "required": false,
                "description": "OpenAI API Key (leave empty to use OPENAI_API_KEY environment variable)",
                "is_connection": false
              },
              {
                "name": "model",
                "type": "str",
                "default": "text-embedding-3-small",
                "required": false,
                "description": "OpenAI embedding model to use",
                "is_connection": false
              },
              {
                "name": "request_timeout",
                "type": "int",
                "default": 60,
                "required": false,
                "description": "Request timeout in seconds",
                "is_connection": false
              },
              {
                "name": "max_retries",
                "type": "int",
                "default": 3,
                "required": false,
                "description": "Maximum number of retries for failed requests",
                "is_connection": false
              }
            ],
            "outputs": [
              {
                "name": "embedder",
                "type": "OpenAIEmbeddings",
                "direction": "top",
                "description": "Configured OpenAIEmbeddings instance ready for use",
                "displayName": "Embedder",
                "is_connection": true
              }
            ],
            "version": "1.0.0",
            "category": "Embedding",
            "examples": [],
            "node_type": "provider",
            "properties": [
              {
                "hint": "The model to use for generating embeddings.",
                "name": "model",
                "rows": 4,
                "type": "select",
                "default": "text-embedding-3-small",
                "options": [
                  {
                    "label": "text-embedding-3-small (1536D)",
                    "value": "text-embedding-3-small"
                  },
                  {
                    "label": "text-embedding-3-large (3072D)",
                    "value": "text-embedding-3-large"
                  },
                  {
                    "label": "text-embedding-ada-002 (1536D)",
                    "value": "text-embedding-ada-002"
                  }
                ],
                "required": true,
                "displayName": "Embedding Model"
              },
              {
                "name": "credential",
                "rows": 4,
                "type": "credential-select",
                "required": false,
                "displayName": "Select Credential",
                "placeholder": "Select Credential"
              },
              {
                "hint": "OpenAI API Key.",
                "name": "openai_api_key",
                "rows": 4,
                "type": "password",
                "required": true,
                "displayName": "API Key"
              },
              {
                "hint": "OpenAI Organization ID.",
                "name": "organization",
                "rows": 4,
                "type": "text",
                "required": false,
                "displayName": "Organization (Optional)",
                "placeholder": "org-..."
              },
              {
                "max": 100,
                "min": 1,
                "hint": "Number of texts to embed in a single batch.",
                "name": "batch_size",
                "rows": 4,
                "type": "number",
                "default": 100,
                "required": true,
                "displayName": "Batch Size"
              },
              {
                "max": 10,
                "min": 0,
                "hint": "Maximum number of retries for failed requests.",
                "name": "max_retries",
                "rows": 4,
                "type": "number",
                "default": 3,
                "required": true,
                "displayName": "Max Retries"
              },
              {
                "max": 300,
                "min": 10,
                "hint": "Timeout for API requests in seconds.",
                "name": "request_timeout",
                "rows": 4,
                "type": "number",
                "default": 30,
                "required": true,
                "displayName": "Request Timeout (seconds)"
              },
              {
                "hint": "Auto-calculated based on model selection.",
                "name": "dimensions",
                "rows": 4,
                "type": "number",
                "default": 1536,
                "required": true,
                "displayName": "Dimensions"
              }
            ],
            "description": "Provider node that creates configured OpenAIEmbeddings instances. Use this node to create a shared embeddings instance for your workflow.",
            "display_name": "OpenAI Embeddings Provider"
          },
          "description": "Provider node that creates configured OpenAIEmbeddings instances. Use this node to create a shared embeddings instance for your workflow.",
          "displayName": "OpenAI Embeddings Provider"
        },
        "type": "OpenAIEmbeddingsProvider",
        "dragging": false,
        "measured": {
          "width": 96,
          "height": 96
        },
        "position": {
          "x": 1110,
          "y": 570
        },
        "selected": true
      },
      {
        "id": "VectorStoreOrchestrator-6",
        "data": {
          "icon": {
            "alt": "vectorsotreicons",
            "name": "postgresql_vectorstore",
            "path": "icons/postgresql_vectorstore.svg"
          },
          "name": "VectorStoreOrchestrator",
          "inputs": [
            {
              "name": "documents",
              "type": "List[Document]",
              "required": true,
              "description": "Documents to ingest into the vector store.",
              "displayName": "Documents",
              "is_connection": true
            },
            {
              "name": "embedder",
              "type": "Embedder",
              "required": true,
              "direction": "bottom",
              "description": "Embedding model for vectorizing documents.",
              "displayName": "Embedder",
              "is_connection": true
            },
            {
              "name": "connection_string",
              "type": "password",
              "required": true,
              "description": "PostgreSQL connection string (postgresql://user:pass@host:port/db)",
              "is_connection": false
            },
            {
              "name": "collection_name",
              "type": "text",
              "required": true,
              "description": "Vector collection name - separates different datasets (REQUIRED for data isolation)",
              "is_connection": false
            },
            {
              "name": "table_prefix",
              "type": "text",
              "default": "",
              "required": false,
              "description": "Custom table prefix for complete database isolation (optional)",
              "is_connection": false
            },
            {
              "name": "pre_delete_collection",
              "type": "boolean",
              "default": false,
              "required": false,
              "description": "Delete existing collection before storing",
              "is_connection": false
            },
            {
              "name": "custom_metadata",
              "type": "json",
              "default": "{}",
              "required": false,
              "description": "Custom metadata to add to all documents (JSON format)",
              "is_connection": false
            },
            {
              "name": "preserve_document_metadata",
              "type": "boolean",
              "default": true,
              "required": false,
              "description": "Keep original document metadata alongside custom metadata",
              "is_connection": false
            },
            {
              "name": "metadata_strategy",
              "type": "select",
              "default": "merge",
              "required": false,
              "description": "How to handle metadata conflicts",
              "is_connection": false
            },
            {
              "name": "auto_optimize",
              "type": "boolean",
              "default": true,
              "required": false,
              "description": "Automatically optimize database schema and indexes",
              "is_connection": false
            },
            {
              "name": "embedding_dimension",
              "type": "int",
              "default": 0,
              "required": false,
              "description": "Embedding vector dimension (auto-detected if 0)",
              "is_connection": false
            },
            {
              "name": "search_algorithm",
              "type": "select",
              "default": "cosine",
              "required": false,
              "description": "Vector similarity search algorithm",
              "is_connection": false
            },
            {
              "name": "search_k",
              "type": "slider",
              "default": 6,
              "required": false,
              "description": "Number of documents to retrieve",
              "is_connection": false
            },
            {
              "name": "score_threshold",
              "type": "slider",
              "default": 0,
              "required": false,
              "description": "Minimum similarity score threshold (0.0-1.0)",
              "is_connection": false
            },
            {
              "name": "batch_size",
              "type": "slider",
              "default": 100,
              "required": false,
              "description": "Batch size for storing embeddings",
              "is_connection": false
            }
          ],
          "outputs": [
            {
              "name": "result",
              "type": "VectorStoreRetriever",
              "description": "Configured retriever for searching the vector store.",
              "displayName": "Retriever",
              "is_connection": true
            }
          ],
          "metadata": {
            "id": "VectorStoreOrchestrator",
            "icon": {
              "alt": "vectorsotreicons",
              "name": "postgresql_vectorstore",
              "path": "icons/postgresql_vectorstore.svg"
            },
            "name": "VectorStoreOrchestrator",
            "tags": [],
            "colors": ["purple-500", "pink-600"],
            "inputs": [
              {
                "name": "documents",
                "type": "List[Document]",
                "required": true,
                "description": "Documents to ingest into the vector store.",
                "displayName": "Documents",
                "is_connection": true
              },
              {
                "name": "embedder",
                "type": "Embedder",
                "required": true,
                "direction": "bottom",
                "description": "Embedding model for vectorizing documents.",
                "displayName": "Embedder",
                "is_connection": true
              },
              {
                "name": "connection_string",
                "type": "password",
                "required": true,
                "description": "PostgreSQL connection string (postgresql://user:pass@host:port/db)",
                "is_connection": false
              },
              {
                "name": "collection_name",
                "type": "text",
                "required": true,
                "description": "Vector collection name - separates different datasets (REQUIRED for data isolation)",
                "is_connection": false
              },
              {
                "name": "table_prefix",
                "type": "text",
                "default": "",
                "required": false,
                "description": "Custom table prefix for complete database isolation (optional)",
                "is_connection": false
              },
              {
                "name": "pre_delete_collection",
                "type": "boolean",
                "default": false,
                "required": false,
                "description": "Delete existing collection before storing",
                "is_connection": false
              },
              {
                "name": "custom_metadata",
                "type": "json",
                "default": "{}",
                "required": false,
                "description": "Custom metadata to add to all documents (JSON format)",
                "is_connection": false
              },
              {
                "name": "preserve_document_metadata",
                "type": "boolean",
                "default": true,
                "required": false,
                "description": "Keep original document metadata alongside custom metadata",
                "is_connection": false
              },
              {
                "name": "metadata_strategy",
                "type": "select",
                "default": "merge",
                "required": false,
                "description": "How to handle metadata conflicts",
                "is_connection": false
              },
              {
                "name": "auto_optimize",
                "type": "boolean",
                "default": true,
                "required": false,
                "description": "Automatically optimize database schema and indexes",
                "is_connection": false
              },
              {
                "name": "embedding_dimension",
                "type": "int",
                "default": 0,
                "required": false,
                "description": "Embedding vector dimension (auto-detected if 0)",
                "is_connection": false
              },
              {
                "name": "search_algorithm",
                "type": "select",
                "default": "cosine",
                "required": false,
                "description": "Vector similarity search algorithm",
                "is_connection": false
              },
              {
                "name": "search_k",
                "type": "slider",
                "default": 6,
                "required": false,
                "description": "Number of documents to retrieve",
                "is_connection": false
              },
              {
                "name": "score_threshold",
                "type": "slider",
                "default": 0,
                "required": false,
                "description": "Minimum similarity score threshold (0.0-1.0)",
                "is_connection": false
              },
              {
                "name": "batch_size",
                "type": "slider",
                "default": 100,
                "required": false,
                "description": "Batch size for storing embeddings",
                "is_connection": false
              }
            ],
            "outputs": [
              {
                "name": "result",
                "type": "VectorStoreRetriever",
                "description": "Configured retriever for searching the vector store.",
                "displayName": "Retriever",
                "is_connection": true
              }
            ],
            "version": "1.0.0",
            "category": "VectorStore",
            "examples": [],
            "node_type": "processor",
            "properties": [
              {
                "name": "credential_id",
                "rows": 4,
                "type": "credential-select",
                "tabName": "data",
                "required": false,
                "displayName": "Select Credential",
                "placeholder": "Select Credential"
              },
              {
                "name": "connection_string",
                "rows": 4,
                "type": "password",
                "tabName": "data",
                "required": true,
                "description": "PostgreSQL connection string",
                "displayName": "Connection String"
              },
              {
                "hint": "Vector collection name - separates different datasets (REQUIRED for data isolation)",
                "name": "collection_name",
                "rows": 4,
                "type": "text",
                "tabName": "data",
                "required": true,
                "displayName": "Collection Name",
                "placeholder": "e.g., amazon_products, user_manuals, company_docs"
              },
              {
                "hint": "Custom table prefix for complete database isolation (optional)",
                "name": "table_prefix",
                "rows": 4,
                "type": "text",
                "tabName": "data",
                "required": false,
                "displayName": "Table Prefix (Optional)",
                "placeholder": "e.g., project1_, client_a_"
              },
              {
                "hint": "Custom metadata to add to all documents (JSON format)",
                "name": "custom_metadata",
                "rows": 4,
                "type": "json-editor",
                "default": "{}",
                "tabName": "metadata",
                "required": false,
                "displayName": "Custom Metadata"
              },
              {
                "hint": "Keep original document metadata alongside custom metadata",
                "name": "preserve_document_metadata",
                "rows": 4,
                "type": "checkbox",
                "default": true,
                "tabName": "metadata",
                "required": true,
                "displayName": "Preserve Document Metadata"
              },
              {
                "hint": "How to handle metadata conflicts",
                "name": "metadata_strategy",
                "rows": 4,
                "type": "select",
                "default": "merge",
                "options": [
                  {
                    "label": "Merge (custom overrides document)",
                    "value": "merge"
                  },
                  {
                    "label": "Replace (only custom metadata)",
                    "value": "replace"
                  },
                  {
                    "label": "Document Only",
                    "value": "document_only"
                  }
                ],
                "tabName": "metadata",
                "required": true,
                "displayName": "Metadata Strategy"
              },
              {
                "name": "search_algorithm",
                "rows": 4,
                "type": "select",
                "default": "cosine",
                "options": [
                  {
                    "label": "Cosine Similarity",
                    "value": "cosine"
                  },
                  {
                    "label": "Euclidean Distance",
                    "value": "euclidean"
                  },
                  {
                    "label": "Inner Product",
                    "value": "inner_product"
                  }
                ],
                "tabName": "search",
                "required": true,
                "displayName": "Search Algorithm"
              },
              {
                "max": 50,
                "min": 1,
                "name": "search_k",
                "rows": 4,
                "step": 1,
                "type": "range",
                "default": 10,
                "tabName": "search",
                "maxLabel": "50",
                "minLabel": "1",
                "required": true,
                "displayName": "Search K"
              },
              {
                "max": 1,
                "min": 0,
                "name": "score_threshold",
                "rows": 4,
                "step": 0.1,
                "type": "range",
                "color": "purple-400",
                "default": 0,
                "tabName": "search",
                "maxLabel": "1.0",
                "minLabel": "0.0",
                "required": true,
                "displayName": "Score Threshold"
              },
              {
                "max": 1000,
                "min": 10,
                "name": "batch_size",
                "rows": 4,
                "step": 10,
                "type": "range",
                "color": "green-400",
                "default": 100,
                "tabName": "search",
                "required": true,
                "displayName": "Batch Size"
              },
              {
                "hint": "Delete existing collection before creating new one",
                "name": "pre_delete_collection",
                "rows": 4,
                "type": "checkbox",
                "default": false,
                "tabName": "search",
                "required": true,
                "displayName": "Pre Delete Collection"
              },
              {
                "hint": "Use HNSW index for faster similarity search",
                "name": "enable_hnsw_index",
                "rows": 4,
                "type": "checkbox",
                "default": true,
                "tabName": "search",
                "required": true,
                "displayName": "Enable HNSW Index"
              }
            ],
            "description": "Auto-optimizing PostgreSQL vector store that ensures maximum performance. Automatically manages database schema, indexes, and optimization for vector operations.",
            "display_name": "Vector Store Orchestrator"
          },
          "description": "Auto-optimizing PostgreSQL vector store that ensures maximum performance. Automatically manages database schema, indexes, and optimization for vector operations.",
          "displayName": "Vector Store Orchestrator"
        },
        "type": "VectorStoreOrchestrator",
        "dragging": false,
        "measured": {
          "width": 96,
          "height": 96
        },
        "position": {
          "x": 1200,
          "y": 410
        },
        "selected": false
      }
    ]
  }
}
